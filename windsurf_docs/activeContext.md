# Active Development Context

## Current Focus: Vineyard App Optimization

### Recent Changes
1. **Organizations Integration** (Feb 3, 2025)
   - Added multi-tenant support
   - Updated models with organization field
   - Implemented data isolation

2. **Search Functionality** (Feb 4, 2025)
   - Simplified search interface
   - Removed complex filters
   - Added real-time search
   - Improved UX with loading states

### Active Tasks
1. **Performance Optimization**
   - Query optimization
   - Caching strategy
   - Response time improvements

2. **User Experience**
   - Streamlined workflows
   - Modern UI components
   - Real-time updates

3. **Technical Improvements**
   - Error handling
   - Code organization
   - Documentation

### Next Steps
1. Complete vineyard optimization
2. Move to harvests app improvements
3. Plan tasks app development

### Dependencies
- Django 5.1.5
- Python 3.13.1
- Tailwind CSS
- Font Awesome 6.0.0

### Team Notes
- Focus on core functionality first
- Maintain consistent UI patterns
- Document all major changes

### Core Apps
1. **Vineyards App**:
   - Manage vineyard blocks and plots
   - Track viticulture operations
   - Monitor soil and climate data

2. **Harvests App**:
   - Plan and track harvest operations
   - Record grape collection data
   - Quality assessment tracking

3. **Cellars App**:
   - Monitor wine aging process
   - Track cellar conditions
   - Manage storage locations

4. **Packaging App**:
   - Handle bottling operations
   - Manage label designs
   - Track packaging materials

5. **Inventory App**:
   - Track wine stock across all stages
   - Monitor production batches
   - Set organization-specific pricing
   - Real-time stock management
   - Integration with production data

6. **Sales App**:
   - Record direct sales (B2B/B2C)
   - Generate invoices and receipts
   - Manage customer relationships
   - Track payments and transactions
   - Sales analytics and reporting

7. **Tasks App**:
   - Cross-module task management
   - Task assignment and tracking
   - Due date monitoring
   - Priority management
   - Task status updates
   - Integration with all production modules

8. **Settings App**:
   - Organization profile management
   - User account administration
   - Role and permission management
   - Organization preferences
   - User invitation system
   - Audit logging

### Optional Webshop Implementation
1. **Global Marketplace**:
   - Display products from all organizations
   - Advanced filtering (organization, wine type, region)
   - Organization-specific storefronts
   - Custom branding per organization

2. **Direct Payment System**:
   - Stripe Connect integration
   - Organization-specific payment processing
   - Secure payment handling
   - Transaction monitoring

### Design Patterns
- Using wine-themed colors (wine-600, wine-700) for primary actions
- Consistent spacing and typography using Tailwind's utility classes
- Modern UI components with hover states
- Responsive design for all screen sizes
- Custom form styles with validation feedback
- Consistent table layouts with status indicators
- Interactive data visualization components
